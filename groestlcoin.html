<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Groestlcoin Cold Wallet Generator</title>
    <meta name="description"
        content="A lightweight, client-side, reliable, fast, open-source universal cold wallet generator supporting almost every major cryptocurrency">
    <meta name="keywords"
        content="minimal, reliable, fast, universal, cold, wallet, generator, offline, groestlcoin, cryptocurrency">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/style2.css">
</head>

<body onload="generate()">
    <div id="container"><br>
        <div class="noprint"><button class="buttons" onclick="generate()">Generate</button> 
            <button class="buttons" onclick="window.print()">Print</button> <a href="index.html"><input type="button" class="buttons" value="Home"></a>
        </div>
        <table>
            <tr>
                <h1 class="titlemain">Groestlcoin Cold Wallet</h1>
            </tr>
            <tr>
                <th class="grayHeaders">Public Address <span id="shareColor">(SHARE)</span></th>
            </tr>
            <tr>
                <td>
                    <div id="public">Generating...</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div id="public_qr"></div>
                </td>
            </tr>
            <tr>
                <th class="grayHeaders">
                    <div id="secretLabel">Private Key <span id="secretColor">(SECRET)</span></div>
                </th>
            </tr>
            <tr>
                <td>
                    <div id="secret">Generating...</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div id="secret_qr"></div>
                </td>
            </tr>
        </table>
    </div>
    <script src="js/bitcoinjs-lib.js"></script>
    <script src="js/qrcode.js"></script>
    <script>
        function generate() {
        const groestlcoin = {
          messagePrefix: '\x19Groestlcoin Signed Message:\n',
          bech32: 'grs',
          bip32: {
            public: 0x0488B21E,
            private: 0x0488ADE4,
          },
          pubKeyHash: 0x24,
	      scriptHash: 0x05,
          wif: 0x80
        };

        const keyPair = bitcoin.ECPair.makeRandom({ network: groestlcoin });
        const { address } = bitcoin.payments.p2wpkh({ pubkey: keyPair.publicKey, network: groestlcoin });
        const privateKeyWIF = keyPair.toWIF();

        const publicElem = document.getElementById("public");
        const privateElem = document.getElementById("secret");
        const publicQRElem = document.getElementById("public_qr");
        const privateQRElem = document.getElementById("secret_qr");

        if (publicElem && privateElem && publicQRElem && privateQRElem) {
          publicElem.textContent = address;
          privateElem.textContent = privateKeyWIF;

          publicQRElem.innerHTML = "";
          privateQRElem.innerHTML = "";

          new QRCode(publicQRElem, {
            text: address,
            width: 128,
            height: 128,
            correctLevel: QRCode.CorrectLevel.H,
          });

          new QRCode(privateQRElem, {
            text: privateKeyWIF,
            width: 128,
            height: 128,
            correctLevel: QRCode.CorrectLevel.H,
          });
        }
      }

    </script>
</body>

</html>
